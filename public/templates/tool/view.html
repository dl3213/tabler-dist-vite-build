<!doctype html>
<!--
* Tabler - Premium and Open Source dashboard template with responsive and high quality UI.
* @version 1.0.0-beta20
* @link https://tabler.io
* Copyright 2018-2023 The Tabler Authors
* Copyright 2018-2023 codecalm.net Paweł Kuna
* Licensed under MIT (https://github.com/tabler/tabler/blob/master/LICENSE)
-->
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title th:text="${title}">Form elements - Tabler - Premium and Open Source dashboard template with responsive and
        high quality UI.</title>
    <!-- CSS files -->
    <link href="/tabler/tabler.css?1746260450" rel="stylesheet" />
    <link href="/tabler/tabler-theme.css?1746260450" rel="stylesheet" />
    <style>
        @import url('/css/inter.css');

        :root {
            --tblr-font-sans-serif: 'Inter Var', -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, Helvetica Neue, sans-serif;
        }

        body {
            font-feature-settings: "cv03", "cv04", "cv11";
        }
    </style>
</head>
<body>
    <script src="/tabler/tabler-theme.js?1692870487" defer></script>
<div class="page">
    <!-- Page body -->

    <div>
        <div class="modal modal-blur fade" id="modal-success" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
                <div class="modal-content">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    <div class="modal-status bg-success"></div>
                    <div class="modal-body text-center py-4">
                        <!-- Download SVG icon from http://tabler-icons.io/i/circle-check -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon mb-2 text-green icon-lg" width="24"
                             height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                             stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"/>
                            <path d="M9 12l2 2l4 -4"/>
                        </svg>
                        <h3>Succedeed</h3>
                        <div class="text-secondary" id="modal-success-context">success</div>
                    </div>
                    <div class="modal-footer">
                        <div class="w-100">
                            <div class="row">
                                <div class="col"><a href="#" class="btn w-100" data-bs-dismiss="modal">
                                    Cancel
                                </a></div>
                                <div class="col"><a href="#" class="btn btn-success w-100"
                                                    data-bs-dismiss="modal">
                                    Ok
                                </a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal modal-blur fade" id="modal-danger" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
                <div class="modal-content">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    <div class="modal-status bg-danger"></div>
                    <div class="modal-body text-center py-4">
                        <!-- Download SVG icon from http://tabler-icons.io/i/alert-triangle -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon mb-2 text-danger icon-lg" width="24"
                             height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                             stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"/>
                            <path d="M12 9v4"/>
                            <path d="M12 17h.01"/>
                        </svg>
                        <!--<h3>Are you sure?</h3>-->
                        <div class="text-secondary" id="modal-danger-context">Do you really want to remove this
                            file? What you've done cannot be undone.
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="w-100">
                            <div class="row">
                                <div class="col"><a href="#" class="btn w-100" data-bs-dismiss="modal">
                                    Cancel
                                </a></div>
                                <div class="col"><a href="#" id="danger_ok" class="btn btn-danger w-100"
                                                    data-bs-dismiss="modal"> Ok </a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="alert alert-success alert-dismissible" id="alert-success" hidden="true" role="alert">
            <div class="d-flex">
                <div>
                    <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24"
                         viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                         stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M5 12l5 5l10 -10"/>
                    </svg>
                </div>
                <div id="alert-success-context">
                    Wow! Everything worked!
                </div>
            </div>
            <a class="btn-close" data-bs-dismiss="alert" aria-label="close"></a>
        </div>
        <div class="alert alert-warning alert-dismissible" id="alert-warning" hidden="true" role="alert">
            <div class="d-flex">
                <div>
                    <!-- Download SVG icon from http://tabler-icons.io/i/alert-triangle -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24"
                         viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                         stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"/>
                        <path d="M12 9v4"/>
                        <path d="M12 17h.01"/>
                    </svg>
                </div>
                <div id="alert-warning-context">
                    Uh oh, something went wrong
                </div>
            </div>
            <a class="btn-close" data-bs-dismiss="alert" aria-label="close"></a>
        </div>
        <div class="alert alert-danger alert-dismissible" id="alert-danger" hidden="true" role="alert">
            <div class="d-flex">
                <div>
                    <!-- Download SVG icon from http://tabler-icons.io/i/alert-circle -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24"
                         viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                         stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"/>
                        <path d="M12 8v4"/>
                        <path d="M12 16h.01"/>
                    </svg>
                </div>
                <div id="alert-danger-context">
                    I'm so sorry…
                </div>
            </div>
            <a class="btn-close" data-bs-dismiss="alert" aria-label="close"></a>
        </div>
        <div class="alert alert-info alert-dismissible" id="alert-info" hidden="true" role="alert">
            <div class="d-flex">
                <div>
                    <!-- Download SVG icon from http://tabler-icons.io/i/info-circle -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24"
                         viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                         stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"/>
                        <path d="M12 9h.01"/>
                        <path d="M11 12h1v4h1"/>
                    </svg>
                </div>
                <div id="alert-info-context">
                    Did you know?
                </div>
            </div>
            <a class="btn-close" data-bs-dismiss="alert" aria-label="close"></a>
        </div>
    </div>

    <div class="page-body">
        <div class="container-xl">
            <div class="row row-cards">
                <div class="col-lg-8">
                    <div class="row row-cards">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">BiliBili video download</h3>
                                </div>
                                <div class="card-body">
                                    <div class="row row-cards">
                                        <div class="mb-3 col-sm-4 col-md-2">
                                            <label class="form-label required"></label>
                                            <button type="submit" id="getCookie" class="btn btn-primary">Get Cookie
                                            </button>
                                        </div>
                                        <div class="mb-3 col-sm-2 col-md-2">
                                            <label class="form-label required">Header</label>
                                            <input name="url" type="text" id="header" class="form-control"
                                                   value="Cookie">
                                        </div>
                                        <div class="mb-3 col-sm-6 col-md-8">
                                            <label class="form-label required">URL</label>
                                            <input name="url" type="text" id="url" disabled class="form-control"
                                                   target="_blank" value="https://www.bilibili.com/">
                                        </div>
                                    </div>
                                    <div class="row row-cards">
                                        <div class="mb-3 col-sm-4 col-md-2">
                                            <label class="form-label required">Cookie</label>
                                            <select class="form-select">
                                                <option value="Cookie">Cookie</option>
                                            </select>
                                        </div>
                                        <div class="mb-3 col-sm-8 col-md-10">
                                            <label class="form-label required">Cookie</label>
                                            <input name="url" type="text" class="form-control" id="bilibili_cookie_input" value="buvid4=B0D8C4F1-19BA-C893-3C07-45A7F21D60B664363-023123112-o4ni5UDK5a3zSIFeUd70zQ%3D%3D; DedeUserID=11885873; DedeUserID__ckMd5=1c1d7cd5a933ec09; buvid_fp_plain=undefined; enable_web_push=DISABLE; header_theme_version=CLOSE; CURRENT_BLACKGAP=0; FEED_LIVE_VERSION=V_WATCHLATER_PIP_WINDOW; go-back-dyn=1; historyviewmode=list; buvid3=B98504AD-F503-5AD6-B9B4-57D8CBF3986758338infoc; b_nut=1735560337; _uuid=310462B75-4A28-9E3F-1F102-849AFE6B148932264infoc; hit-dyn-v2=1; CURRENT_QUALITY=80; enable_feed_channel=DISABLE; rpdid=|(k||lRJlRJu0J'u~J)YYYY~R; LIVE_BUVID=AUTO6017386770844761; fingerprint=a1b14c043db0f76975753d85d58b71f6; buvid_fp=a1b14c043db0f76975753d85d58b71f6; home_feed_column=5; bmg_af_switch=1; bmg_src_def_domain=i1.hdslb.com; SESSDATA=fd4ec0a9%2C1756306524%2C0067c%2A22CjDQ1pTRsrx8FkFE8-A7QqvwmoON3em9mLTfBHk0nVdCMxZT9lEtXVA9IpJXSpZ-uZsSVmxwaUtzcFBnY2hWTHpWUHRYRG5lRXdBdXlBVGZ6cjVjM3N3cUM2Y3ZNZ2tOMHBCS0FPYmNZOW5lbGNadVR2azd1OWJnRTVjTDNfM05Ba0pLOTBBMl9nIIEC; bili_jct=896a364dc7dc5cb3376314bb87d938ca; sid=5bzqmy1r; bili_ticket=eyJhbGciOiJIUzI1NiIsImtpZCI6InMwMyIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NDExNTgxNDEsImlhdCI6MTc0MDg5ODg4MSwicGx0IjotMX0._2rtXKDdBethLGsjvEMPTFFypnZVyv5DTeYrFq7QbB4; bili_ticket_expires=1741158081; PVID=2; b_lsid=96F9103E2_19556FBC0AB; CURRENT_FNVAL=2000; bp_t_offset_11885873=1039746938808827904; browser_resolution=2327-1228" >
                                        </div>
                                    </div>
                                    <div class="row row-cards">
                                        <div class="mb-3 col-sm-4 col-md-2">
                                            <label class="form-label required">BV</label>
                                            <select class="form-select">
                                                <option value="BV">BV</option>
                                            </select>
                                        </div>
                                        <div class="mb-3 col-sm-6 col-md-8">
                                            <label class="form-label required">BV</label>
                                            <input name="url" type="text" class="form-control" id="bilibili_bv_input" value="BV1aL411n7tQ" >
                                        </div>
                                        <div class="mb-3 col-sm-4 col-md-2">
                                            <label class="form-label required"></label>
                                            <button type="submit" class="btn btn-primary" id="bilibili_video_download_btn">download</button>
                                        </div>
                                    </div> 
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<!-- Libs JS -->
<script src="/libs/nouislider/nouislider.min.js?1692870487" defer></script>
<script src="/libs/litepicker/litepicker.js?1692870487" defer></script>
<script src="/libs/tom-select/js/tom-select.base.min.js?1692870487" defer></script>
<!-- Tabler Core -->
<script src="/js/tabler.min.js?1692870487" defer></script>
<script src="/js/demo.min.js?1692870487" defer></script>
<script src="/js/axios.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/common/common.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const apiUrl = server.API_URL
        document.getElementById("bilibili_get_cookie_btn")?.addEventListener("click", function (evt) {
          var url = document.getElementById("url").value;
          var page = window.open(url, '_blank')
          console.log(page)
        })

        document.getElementById("bilibili_get_url_btn")?.addEventListener("click", function (evt) {
            var cookie = document.getElementById("cookie").value;
            var bv = document.getElementById("bv").value;
            axios
                .post(apiUrl+'/api/rest/v1/tool/bv/data', {
                    "cookie":cookie,
                    "bv":bv,
                })
                .then(response => {
                    console.log(response)

                })
                .catch(error => {
                    console.log(error)
                })

        })

        document.getElementById("bilibili_video_download_btn")?.addEventListener("click", function (evt) {
            var cookie = document.getElementById("bilibili_cookie_input").value;
            var bv = document.getElementById("bilibili_bv_input").value;

            var request = {
                "cookie":cookie,
                "bv":bv,
            }
            downloadXlsxWithPostRealUrl(apiUrl+'/api/rest/v1/tool/bilibili/download', request, function (){
                console.log("downloadXlsxWithPostRealUrl end")
            });
        })
    });
</script>
</body>
</html>