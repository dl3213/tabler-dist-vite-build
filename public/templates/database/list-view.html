<!doctype html>
<!--
* Tabler - Premium and Open Source dashboard template with responsive and high quality UI.
* @version 1.0.0-beta20
* @link https://tabler.io
* Copyright 2018-2023 The Tabler Authors
* Copyright 2018-2023 codecalm.net PaweÅ‚ Kuna
* Licensed under MIT (https://github.com/tabler/tabler/blob/master/LICENSE)
-->
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title th:text="${title}">Playground - Tabler - Premium and Open Source dashboard template with responsive and high
        quality UI.</title>
    <!-- CSS files -->
    <link href="/tabler/tabler.css?1746260450" rel="stylesheet" />
    <link href="/tabler/tabler-theme.css?1746260450" rel="stylesheet" />
    <style>
        @import url('/css/inter.css');
        :root {
            --tblr-font-sans-serif: 'Inter Var', -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, Helvetica Neue, sans-serif;
        }
        body {
            font-feature-settings: "cv03", "cv04", "cv11";
        }
    </style>
</head>
<body>
    <script src="/tabler/tabler-theme.js?1692870487" defer></script>
<div class="page">

    <div class="page-wrapper">
        <!-- Page header -->
        <div class="page-header d-print-none">
            <div class="container-xl">
                <div class="row g-2 align-items-center">
                    <div class="col">
                        <div class="d-flex">
                            <h2 class="page-title">
                                Database
                            </h2>
                            <div class="text-secondary" style="margin-left: 10px">
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                        data-bs-target="#exampleModal_form">
                                    New+
                                </button>
                                <div class="modal" id="exampleModal_form" tabindex="-1">
                                    <div class="modal-dialog modal-lg" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title">New+</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <form class="card" id="databaseProfile">
                                                    <input hidden="hidden" name="id" th:value="${target?.id}">
                                                    <div class="card-body">
                                                        <!-- <h3 class="card-title">Edit</h3>-->
                                                        <div class="row row-cards">
                                                            <div class="col-sm-6 col-md-6">
                                                                <div class="mb-3">
                                                                    <label class="form-label">Name</label>
                                                                    <input type="text" class="form-control" placeholder="Name"
                                                                           name="name" th:value="${target?.name}?:'new database'">
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6 col-md-6">
                                                                <div class="mb-3">
                                                                    <label class="form-label">Type</label>
                                                                    <select class="form-select" name="type">
                                                                        <option th:each="t:${typeList}" th:text="${t.code}"
                                                                                th:value="${t.code}"
                                                                                th:selected="${target?.type == t.code}"></option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6 col-md-6">
                                                                <div class="mb-3">
                                                                    <label class="form-label">Host</label>
                                                                    <input type="text" class="form-control" placeholder="Host"
                                                                           name="host" th:value="${target?.host}?:'127.0.0.1'">
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6 col-md-6">
                                                                <div class="mb-3">
                                                                    <label class="form-label">Port</label>
                                                                    <input type="text" class="form-control" placeholder="Port"
                                                                           name="port" th:value="${target?.port}?:'80'">
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6 col-md-6">
                                                                <div class="mb-3">
                                                                    <label class="form-label">Username</label>
                                                                    <input type="text" class="form-control" placeholder="Username"
                                                                           name="username" th:value="${target?.username}?:'root'">
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6 col-md-6">
                                                                <div class="mb-3">
                                                                    <label class="form-label">Password</label>
                                                                    <input type="text" class="form-control" placeholder="Password"
                                                                           name="password" th:value="${target?.password}?:'password'">
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <div class="mb-3">
                                                                    <label class="form-label">Database</label>
                                                                    <input type="text" class="form-control" placeholder="Database"
                                                                           name="database" th:value="${target?.database}?:'database'">
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <div class="mb-3 mb-0">
                                                                    <label class="form-label">Desc</label>
                                                                    <textarea rows="5" class="form-control"
                                                                              placeholder="Here can be your description"
                                                                              name="desc"
                                                                              th:value="${target?.desc}">Oh so, your weak rhyme
You doubt I'll bother, reading into it
I'll probably won't, left to my own devices
But that's the difference in our opinions.</textarea>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="modal-footer">
                                                <a href="#" class="btn btn-link link-secondary"
                                                   data-bs-dismiss="modal">
                                                    Cancel
                                                </a>
                                                <a href="#" class="btn btn-primary ms-auto"
                                                   data-bs-dismiss="modal" id="update">
                                                    New+
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Page body -->
        <div class="page-body">
            <div class="container-xl">
                <div class="card">
                    <div class="row g-0">
                        <div class="col-12 col-lg-4 col-xl-2 border-end">
                            <div class="card-header d-none d-md-block">
                                <div class="input-icon">
                      <span class="input-icon-addon"> <!-- Download SVG icon from http://tabler-icons.io/i/search -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                             stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
                             stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path
                                d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M21 21l-6 -6"/></svg>
                      </span>
                                    <input type="text" value="" class="form-control" placeholder="Searchâ€¦"
                                           aria-label="Search"/>
                                </div>
                            </div>
                            <div class="card-body p-0 scrollable"  style="max-height: 35rem">
                                <div class="nav flex-column nav-pills" id="list" role="tablist">
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3 active" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar"
                                                                        style="background-image: url(/static/avatars/000m.jpg)"></span>
                                            </div>
                                            <div class="col text-body">
                                                <div>PaweÅ‚ Kuna</div>
                                                <div class="text-secondary text-truncate w-100">Sure PaweÅ‚, let me pull
                                                    the latest updates.
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar">JL</span>
                                            </div>
                                            <div class="col text-body">
                                                <div>Jeffie Lewzey</div>
                                                <div class="text-secondary text-truncate w-100">I'm on it too ðŸ‘Š</div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar"
                                                                        style="background-image: url(/static/avatars/002m.jpg)"></span>
                                            </div>
                                            <div class="col text-body">
                                                <div>Mallory Hulme</div>
                                                <div class="text-secondary text-truncate w-100">I see you've refactored
                                                    the <code>calculateStatistics</code> function. The code is much
                                                    cleaner now.
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar"
                                                                        style="background-image: url(/static/avatars/003m.jpg)"></span>
                                            </div>
                                            <div class="col text-body">
                                                <div>Dunn Slane</div>
                                                <div class="text-secondary text-truncate w-100">Yes, I thought it was
                                                    getting a bit cluttered.
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar"
                                                                        style="background-image: url(/static/avatars/000f.jpg)"></span>
                                            </div>
                                            <div class="col text-body">
                                                <div>Emmy Levet</div>
                                                <div class="text-secondary text-truncate w-100">The commit message is
                                                    descriptive, too. Good job on mentioning the issue number it fixes.
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar"
                                                                        style="background-image: url(/static/avatars/001f.jpg)"></span>
                                            </div>
                                            <div class="col text-body">
                                                <div>Maryjo Lebarree</div>
                                                <div class="text-secondary text-truncate w-100">I noticed you added some
                                                    new dependencies in the <code>package.json</code>. Did you also
                                                    update the <code>README</code> with the setup instructions?
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar">EP</span>
                                            </div>
                                            <div class="col text-body">
                                                <div>Egan Poetz</div>
                                                <div class="text-secondary text-truncate w-100">Oops, I forgot. I'll add
                                                    that right away.
                                                </div>
                                            </div>
                                            <div class="col-auto">ðŸŒ´</div>
                                        </div>
                                    </a>
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar"
                                                                        style="background-image: url(/static/avatars/002f.jpg)"></span>
                                            </div>
                                            <div class="col text-body">
                                                <div>Kellie Skingley</div>
                                                <div class="text-secondary text-truncate w-100">I see a couple of edge
                                                    cases we might not be handling in the
                                                    <code>calculateStatistic</code> function. Should I open an issue for
                                                    that?
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar"
                                                                        style="background-image: url(/static/avatars/003f.jpg)"></span>
                                            </div>
                                            <div class="col text-body">
                                                <div>Christabel Charlwood</div>
                                                <div class="text-secondary text-truncate w-100">Yes, Bob. Please do. We
                                                    should not forget to handle those.
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#chat-1" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar">HS</span>
                                            </div>
                                            <div class="col text-body">
                                                <div>Haskel Shelper</div>
                                                <div class="text-secondary text-truncate w-100">Alright, once the <code>README</code>
                                                    is updated, I'll merge this commit into the main branch. Nice work,
                                                    PaweÅ‚.
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-8 col-xl-10 d-flex flex-column">
                            <div class="card-body scrollable" id="scrollable" style="height: 35rem">
                                <div class="chat">
                                    <div id="chat-context" class="chat-bubbles">
                                        <div class="chat-item">
                                            <div class="row align-items-end justify-content-end">
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble chat-bubble-me">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">PaweÅ‚ Kuna</div>
                                                                <div class="col-auto chat-bubble-date">09:32</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>Hey guys, I just pushed a new commit on the
                                                                <code>dev</code> branch. Can you have a look and tell me
                                                                what you think?</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/000m.jpg)"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end">
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/002m.jpg)"></span>
                                                </div>
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">Mallory Hulme</div>
                                                                <div class="col-auto chat-bubble-date">09:34</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>Sure PaweÅ‚, let me pull the latest updates.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end">
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/003m.jpg)"></span>
                                                </div>
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">Dunn Slane</div>
                                                                <div class="col-auto chat-bubble-date">09:34</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>I'm on it too ðŸ‘Š</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end">
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/002m.jpg)"></span>
                                                </div>
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">Mallory Hulme</div>
                                                                <div class="col-auto chat-bubble-date">09:40</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>I see you've refactored the
                                                                <code>calculateStatistics</code> function. The code is
                                                                much cleaner now.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end justify-content-end">
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble chat-bubble-me">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">PaweÅ‚ Kuna</div>
                                                                <div class="col-auto chat-bubble-date">09:42</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>Yes, I thought it was getting a bit cluttered.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/000m.jpg)"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end">
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/000f.jpg)"></span>
                                                </div>
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">Emmy Levet</div>
                                                                <div class="col-auto chat-bubble-date">09:43</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>The commit message is descriptive, too. Good job on
                                                                mentioning the issue number it fixes.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end">
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/003m.jpg)"></span>
                                                </div>
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">Dunn Slane</div>
                                                                <div class="col-auto chat-bubble-date">09:44</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>I noticed you added some new dependencies in the <code>package.json</code>.
                                                                Did you also update the <code>README</code> with the
                                                                setup instructions?</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end justify-content-end">
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble chat-bubble-me">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">PaweÅ‚ Kuna</div>
                                                                <div class="col-auto chat-bubble-date">09:45</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>Oops, I forgot. I'll add that right away.</p>
                                                            <div class="mt-2">
                                                                <img src="https://media3.giphy.com/media/VABbCpX94WCfS/giphy.gif"
                                                                     alt="" class="rounded img-fluid"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/000m.jpg)"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end">
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/002m.jpg)"></span>
                                                </div>
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">Mallory Hulme</div>
                                                                <div class="col-auto chat-bubble-date">09:46</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>I see a couple of edge cases we might not be handling in
                                                                the <code>calculateStatistic</code> function. Should I
                                                                open an issue for that?</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end justify-content-end">
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble chat-bubble-me">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">PaweÅ‚ Kuna</div>
                                                                <div class="col-auto chat-bubble-date">09:47</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>Yes, Bob. Please do. We should not forget to handle
                                                                those.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/000m.jpg)"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end">
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/000f.jpg)"></span>
                                                </div>
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">Emmy Levet</div>
                                                                <div class="col-auto chat-bubble-date">09:50</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>Alright, once the <code>README</code> is updated, I'll
                                                                merge this commit into the main branch. Nice work,
                                                                PaweÅ‚.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end justify-content-end">
                                                <div class="col col-lg-6">
                                                    <div class="chat-bubble chat-bubble-me">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">PaweÅ‚ Kuna</div>
                                                                <div class="col-auto chat-bubble-date">09:52</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body">
                                                            <p>Thanks, <a href="#">@everyone</a>! ðŸ™Œ</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/000m.jpg)"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-item">
                                            <div class="row align-items-end">
                                                <div class="col-auto"><span class="avatar"
                                                                            style="background-image: url(/static/avatars/000f.jpg)"></span>
                                                </div>
                                                <div class="col-auto">
                                                    <div class="chat-bubble">
                                                        <div class="chat-bubble-body">
                                                            <p class="text-secondary text-italic">typing<span
                                                                    class="animated-dots"></span></p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <div class="input-group input-group-flat">
<!--                                    <input id="sql-text" type="text" class="form-control" autocomplete="off"-->
<!--                                           placeholder="Type sql"/>-->
                                    <textarea id="sql-text" type="text" class="form-control" autocomplete="off"     placeholder="Type sql" rows="3"></textarea>
                                    <span class="input-group-text">
                        <a href="#" class="link-secondary" data-bs-toggle="tooltip" aria-label="Clear search"
                           title="Clear search"> <!-- Download SVG icon from http://tabler-icons.io/i/mood-smile -->
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                               viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                               stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"
                                                                                    fill="none"/><path
                                  d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"/><path d="M9 10l.01 0"/><path
                                  d="M15 10l.01 0"/><path d="M9.5 15a3.5 3.5 0 0 0 5 0"/></svg>
                        </a>
                        <a href="#" class="link-secondary ms-2" data-bs-toggle="tooltip" aria-label="Add notification"
                           title="Add notification"> <!-- Download SVG icon from http://tabler-icons.io/i/paperclip -->
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                               viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                               stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"
                                                                                    fill="none"/><path
                                  d="M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5"/></svg>
                        </a>
                        <a href="#" id="send" class="link-secondary ms-2" data-bs-toggle="tooltip"  aria-label="send"
                           title="send"> <!-- Download SVG icon from http://tabler-icons.io/i/paperclip -->
                           <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4" /></svg>
                        </a>
                      </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Libs JS -->
<!-- Tabler Core -->
<script src="/js/tabler.min.js?1692870487" defer></script>
<script src="/js/demo.min.js?1692870487" defer></script>
<script src="/js/axios.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/moment.min.js"></script>
<script src="/js/common/common.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {

        const apiUrl = server.API_URL
        var socket = null;

        var request = {}
        load_list()

        function load_list(){

            axios
                    .post(apiUrl + '/database/list', request)
                    .then(response => {
                        //console.log(response)
                        var list = response.data.data
                        //document.getElementById("chat-context").innerHTML = ''
                        document.getElementById("list").innerHTML = ''
                        list.forEach(item => {
                            document.getElementById("list").innerHTML += `
                            <a href="#chat-1" db-id="`+item.id+`" class="nav-link text-start mw-100 p-3" id="chat-1-tab"
                                       data-bs-toggle="pill" role="tab" aria-selected="true">
                                        <div class="row align-items-center flex-fill">
                                            <div class="col-auto"><span class="avatar"
                                                                        style="background-image: url(/static/avatars/000m.jpg)"></span>
                                            </div>
                                            <div class="col text-body">
                                                <div>`+item.name+`</div>
                                                <div class="text-secondary text-truncate w-100">`+item.desc+`.</div>
                                            </div>
                                        </div>
                                    </a>
                            ` 
                        })

                        var dbList = document.querySelectorAll('[db-id]');

                        dbList.forEach(db => {
                            //console.log(db)
                            db.addEventListener("click", function (event) {
                                //console.log(event.currentTarget)
                                //console.log(event.currentTarget.getAttribute("db-id"))
 
                                var db_id = event.currentTarget.getAttribute("db-id");
                                socket?.close()
                                socket = new WebSocket('ws://127.0.0.1:8080/database/socket/'+db_id+'?a=1&b=2&db='+db_id);
                                // æ‰“å¼€äº‹ä»¶
                                socket.onopen = function(event) {
                                    console.log("Connection established");
                                    // å¯ä»¥åœ¨è¿™é‡Œå‘é€ç¬¬ä¸€æ¡æ¶ˆæ¯
                                    socket.send("Hello Server!");
                                };
                                
                                // æŽ¥æ”¶æ¶ˆæ¯äº‹ä»¶
                                socket.onmessage = function(event) {
                                    console.log("Message from server ", event.data);
                                    var json = JSON.parse(event.data)
                                    var context = event.data
                                    if(Array.isArray(json)){  
                                        context =  `
                                        <table class="table">
                                            <thead>
                                            <tr> 
                                        `
                                        const allKeys = [...new Set(json.map(obj => Object.keys(obj)).flat())];
                                        allKeys.forEach(item => {
                                            var td = `<th><button class="table-sort" data-sort="sort-name">`+item+`</button></th>`
                                            context += td
                                        })
                                        context += `
                                            </tr>
                                            </thead>
                                        <tbody class="table-tbody">
                                        `
                                        json.forEach(item => {
                                            var tr = `<tr>` 
                                            console.log(Object.keys(item))
                                            for(var key of allKeys){
                                                console.log(key)
                                                console.log(item[key])
                                                tr += `<td class="sort-name">`+item[key]+`</td>`
                                            }  
                                            tr += `</tr>`
                                            context += tr
                                        })

                                        context += `
                                        </tbody>
                                        </table>
                                        `

                                    }else{
                                        context = event.data
                                    }

                                    document.getElementById("chat-context").innerHTML += `
                                        <div class="chat-item server-context"  >
                                            <div class="row align-items-end" >
                                                <div class="col-auto"><span class="avatar" style="background-image: url(/static/avatars/000f.jpg)"></span> </div>
                                                <div class="col col-lg-11">
                                                    <div class="chat-bubble">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">server</div>
                                                                <div class="col-auto chat-bubble-date">`+moment().format('YYYY-MM-DD HH:mm:ss')+`</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body" style="white-space: nowrap;overflow-x: auto;">
                                                            <p>`+context+`</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    `
                                    
                                    var div = document.getElementById('scrollable');
                                    div.scrollTop = div.scrollHeight;

                                    [...document.getElementsByClassName('server-context')].forEach(item => {
                                        item.addEventListener('click', (event) => { 
                                            console.log(event.currentTarget)
                                            
                                        })
                                    })

                                };
                                
                                // é”™è¯¯äº‹ä»¶
                                socket.onerror = function(error) {
                                    console.error("WebSocket Error: " + error);
                                };
                                
                                // å…³é—­äº‹ä»¶
                                socket.onclose = function(event) {
                                    console.log("Connection closed");
                                };
                            })
                        })

                    })
                    .catch(error => {
                        console.log(error)
                    })

                    
        }
        
        document.getElementById('send').addEventListener('click',function(event){
            var sql = document.getElementById('sql-text').value
            console.log('sql - ' + sql)
            if(sql && socket){
                socket.send(sql)
                document.getElementById("chat-context").innerHTML += `
                                        <div class="chat-item">
                                            <div class="row align-items-end justify-content-end">
                                                <div class="col col-lg-11">
                                                    <div class="chat-bubble chat-bubble-me">
                                                        <div class="chat-bubble-title">
                                                            <div class="row">
                                                                <div class="col chat-bubble-author">client</div>
                                                                <div class="col-auto chat-bubble-date">`+moment().format('YYYY-MM-DD HH:mm:ss')+`</div>
                                                            </div>
                                                        </div>
                                                        <div class="chat-bubble-body" style="white-space: nowrap;overflow-x: auto;">
                                                            <p>`+sql+`</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-auto"><span class="avatar" style="background-image: url(/static/avatars/000m.jpg)"></span> </div>
                                            </div>
                                        </div>
                `
                var div = document.getElementById('scrollable');
                div.scrollTop = div.scrollHeight;
            }
        })
    
        var update = document.getElementById('update');
        update.addEventListener('click', (e) => {
            console.log("submit onclick...")
            const form = document.querySelector('#databaseProfile');
            console.log(form)
            const formData = new FormData(form);
            console.log(formData)
            var request = Object.fromEntries(formData.entries());
            const formJson = JSON.stringify(request);
            console.log(formJson)
            axios
                .post(apiUrl + '/database/add', request)
                .then(response => {
                    console.log(response)
                    
                })
                .catch(error => {
                    console.log(error) 
                })
        })
    });
</script>
</body>
</html>